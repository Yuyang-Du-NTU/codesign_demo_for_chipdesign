mcdp{

    # sub instance
    
    Total__Hardware =  instance `Hardware
    Total__Software =  instance `Software
    Total__Computation = instance `Computation
    Total__Fab = instance `Fab

    # global req & pro

    ## requires

    ### possibility
    requires Total__self__reqPossibility [dimensionless]
    
    ### hardware part

    ### software part

    ### fab part

    ### Computation
    requires Total__self__reqTime [dimensionless]
    requires Total__self__reqCost [dimensionless]
    requires Total__self__reqPower [dimensionless]


    ## provides
    
    ### hardware part
    provides Total__self__proArea [dimensionless]
    provides Total__self__proEnergy [dimensionless]
    provides Total__self__proLatency [dimensionless]
    
    ### software part
    provides Total__self__proAccuracy [dimensionless]
    
    ### fab part
    provides Total__self__proNumber_yield [dimensionless]

    ### Computation part


    # Connection from left to right

    ## first provided posets generated by Hardware and Software and Fab
    ## pro -> area -> Hardware
    ## pro -> energy -> Hardware
    ## pro -> latency -> Hardware
    ## pro -> acc -> Software
    ## pro -> yield -> fab

    ### Hardware
    provided Total__self__proArea           <= Hardware__self__proArea provided by Total__Hardware
    provided Total__self__proEnergy         <= Hardware__self__proEnergy provided by Total__Hardware
    provided Total__self__proLatency        <= Hardware__self__proLatency provided by Total__Hardware
    ### Software 
    provided Total__self__proAccuracy       <= Software__self__proAccuracy provided by Total__Software
    ### Fab
    provided Total__self__proNumber_yield   <= Fab__self__proNumber_yield provided by Total__Fab

    ## second provided posets connect to the first req. 
    ## Hardware ->Software
    ## Hardware -> Computation
    ## Fab->Hardware
    ## Software ->Computation

    ### Hardware -> Software
    Hardware__self__reqLayers required by Total__Hardware <= Software__self__proLayers provided by Total__Software

    ### Hardware -> Computation
    Hardware__self__reqTime required by Total__Hardware <= Computation__self__proSoftware__reqTime provided by Total__Computation

    ### Fab -> Hardware
    Fab__self__reqHardware__proArea required by Total__Fab <= Hardware__self__proArea provided by Total__Hardware

    ### Software -> Computation
    Software__self__reqTime required by Total__Software <= Computation__self__proHardware__reqTime provided by Total__Computation

    ## third provided posets generated by Computation and mul and add
    ## fab * Hardware * Software -> possibility ->req
    ## fab + Computation -> cost -> req
    ## Computation -> power ->req
    ## Computation -> time ->req

    ### fab * Hardware * Software -> possibility ->req
    (Fab__self__reqPossibility required by Total__Fab) * (Hardware__self__reqPossibility required by Total__Hardware) *(Software__self__reqPossibility required by Total__Software) <= required Total__self__reqPossibility
    
    ### fab + Computation -> cost -> req
    Fab__self__reqCost required by Total__Fab + Computation__self__reqCost required by Total__Computation <= required Total__self__reqCost

    ## Computation -> power ->req
    Computation__self__reqPower required by Total__Computation >= required Total__self__reqPower

    ## Computation -> time ->req
    Computation__self__reqTime required by Total__Computation >= required Total__self__reqTime













    ###Computation
    required Total__self__reqTime >= Computation__self__reqTime required by Total__Computation
    required Total__self__reqCost >= Computation__self__reqCost required by Total__Computation
    required Total__self__reqPower >= Computation__self__reqPower required by Total__Computation



    required Hardware__self__reqPossibility >= Hardware__solver__reqPossibility required by Hardware__solver
    required Hardware__self__reqTime >= Hardware__solver__reqTime required by Hardware__solver
    required Hardware__self__reqLayers >= Hardware__solver__reqLayers required by Hardware__solver
    
    provided Hardware__proArea <= Hardware__solver__proArea        provided by Hardware__solver
    provided Hardware__proEnergy <= Hardware__solver__proEnergy        provided by Hardware__solver
    provided Hardware__proLatency <= Hardware__solver__proLatency        provided by Hardware__solver
}

# mcdp-solve -d chipdesign_test0918.mcdplib Total '<0,0,0,0,0>' --imp --plot --out 'chipdesign_test0918.mcdplib.outputs' --nocache --lower '10' --upper '10'